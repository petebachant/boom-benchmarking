stages:
  _check-env-mongo-py:
    cmd: calkit check venv envs/mongo-py.txt -o .calkit/env-locks/mongo-py.txt
    deps:
      - envs/mongo-py.txt
    outs:
      - .calkit/env-locks/mongo-py.txt:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be overwritten.
  _check-env-pg-py:
    cmd: calkit check venv envs/pg-py.txt -o .calkit/env-locks/pg-py.txt
    deps:
      - envs/pg-py.txt
    outs:
      - .calkit/env-locks/pg-py.txt:
          cache: false
          persist: true
    always_changed: true
    desc: Automatically generated by Calkit. Changes made here will be overwritten.
  get-ztf-data:
    cmd: bash --noprofile --norc scripts/download-ztf-data.sh
    deps:
      - scripts/download-ztf-data.sh
    outs:
      - data/ztf_public_20250614.tar.gz:
          cache: false
          persist: true
      - data/ztf_public_20250614:
          cache: false
          persist: false
    desc: Automatically generated from the 'get-ztf-data' stage in calkit.yaml.
      Changes made here will be overwritten.
  extract-ned-data:
    cmd: bash --noprofile --norc -c "gunzip -k data/kowalski.NED.json.gz"
    deps:
      - data/kowalski.NED.json.gz
    outs:
      - data/kowalski.NED.json:
          cache: false
          persist: false
    desc: Automatically generated from the 'extract-ned-data' stage in calkit.yaml.
      Changes made here will be overwritten.
